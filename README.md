# Домен Контроль ИБ артефактов, зависимостей и образов (T-ADI)

### DEP Контроль использования сторонних компонентов

```mermaid
%%{init: {'theme':'forest'}}%%
mindmap
  root((DEP))
      0
        Управление зависимостями в исходном коде осуществляется в каком-либо виде
      1
        1 Существуют и формализованы единые правила, определяющие возможность использования тех или иных зависимостей в коде. Например, есть утвержденный документ, и/или страница в базе знаний, описывающие порядок использования зависимостей в коде.
        2 Обновление существующих зависимостей выполняется вручную. Например, если возникла необходимость использовать новую версию библиотеки в коде, то ее вручную выгружают и добавляют в проект
        3 Существует - описан, формализован, план реагирования на события ИБ, связанных с зависимостями.
        4 Выполняется харденинг - безопасная настройка, файлов конфигураций используемых пакетов open source software - OSS - например, nuget.config, .npmrc, pip.conf, pom.xml, etc. 
        5 Зависимости с тэгом "latest" не применяются
      2
        1 Разработчики получают и используют OSS компоненты, применяя только стандартизованные - формализованные и утвержденные методы
        2 Контролируется и регулируется использование новых - моложе 60 дней и старых - неактуальных, заброшенных, старше 365 дней OSS. Например, настроен OSS firewall на предупреждение или запрет использования OSS, выпущенных\актуализированных более 365 дней назад и менее чем 60 дней
      3
        1 Выполняется инвентаризация используемых зависимостей. Например, создан внутренний репозиторий.
        2 При выполнении Pull/Merge request предоставляется список всех уязвимостей используемых зависимостей. Это может быть реализовано с помощью SCA системы.
        3 Выполняется верификация цифровой подписи SBOM перед использованием зависимостей в сборке. Это может быть реализовано с помощью SCA системы.
        4 Выполняется автоматическое обновление используемых зависимостей. Это может быть реализовано с помощью специальных утилит для обновления зависимостей.
      4
        1 Выполняется самостоятельная сборка необходимых зависимостей в доверенной среде
        2 Выполняется создание и проверка цифровой подписи собранных зависимостей. Например, с помощью Cosign
        3 Выполняется создание и проверка цифровой подписи на SBOM для собранных зависимостей. Например, с помощью Cosign
```

### ART Управление артефактами	

```mermaid
%%{init: {'theme':'forest'}}%%
mindmap
  root((ART))    
    0 
        1 Управление артефактами разработки присутствует в каком-либо виде
    1
        1 Все артефакты разработки хранятся в доверенных registry. Например, используется внутренний реестр.
        2 Строго ограниченный перечень лиц может помещать артефакты в registry. Внутри registry настроены правила разграничения доступа.
        3 Для аутентификации в registry используются внешние сервисы. Например, выполнена интеграция с LDAP или другим IdM, локальные учетные записи не используются.
        4 Отключен анонимный доступ в registry
        5 Настроен и включен аудит любых изменений конфигурации хранилищ артефактов
    2
        1 Разработчики получают артефакты для дальнейшей работы только из внутренних репозиториев
        2 Выполняется создание хэш сумм артефактов перед отправкой их в registry, а также их проверка при сборке
        3 Для взаимодействия с registry используются webhook с использованием TLS версии не ниже 1.2
    3
        1 Выполняется создание цифровых подписей всех артефактов перед их отправкой в registry
        2 Для всех артефактов создается SBOM 
        3 Используется многофакторная аутентификация для доступа к registry
        4 Конвейер сборки - build pipeline подписывает все артефакты, которые он создает 
    4
        1 Выполняется шифрование всех артефактов в registry.

```

# Домен Защита окружения разработки (T-DEV)

```mermaid
%%{init: {'theme':'forest'}}%%
mindmap
  root((T-DEV))
    COMP Защита рабочих мест разработчика
      0
        1 Применяются практики защиты рабочих мест разработчиков
```
